#
# creates vars files used by terraform and Bash
---

- hosts: localhost
  become: no
  gather_facts: no
  connection: local
  tasks:

    # https://galaxy.ansible.com/community/kubernetes
    - name: create terraform properties file tf/envs/all.tfvars
      copy:
        dest: "{{playbook_dir}}/../tf/envs/all.tfvars"
        content: |
          # GENERATED BY ANSIBLE
          # no spaces in betweeen key/value pairs so that Bash can also source these values
          # below is the project name, the id is auto-generated and available from output
          project_name="{{project_name}}"
          project_id="{{project_name}}-??????"
          region="{{region}}"
          zone="{{region}}-b"
          network_name="{{network_name}}"

